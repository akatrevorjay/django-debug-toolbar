window.djdt=(function(g,h,j){j.cookie=function(w,c,y){if(typeof c!="undefined"){y=y||{};if(c===null){c="";y.expires=-1}var t="";if(y.expires&&(typeof y.expires=="number"||y.expires.toUTCString)){var f;if(typeof y.expires=="number"){f=new Date();f.setTime(f.getTime()+(y.expires*24*60*60*1000))}else{f=y.expires}t="; expires="+f.toUTCString()}var a=y.path?"; path="+(y.path):"";var e=y.domain?"; domain="+(y.domain):"";var x=y.secure?"; secure":"";h.cookie=[w,"=",encodeURIComponent(c),t,a,e,x].join("")}else{var u=null;if(h.cookie&&h.cookie!=""){var b=h.cookie.split(";");for(var d=0;d<b.length;d++){var v=l.trim(b[d]);if(v.substring(0,w.length+1)==(w+"=")){u=decodeURIComponent(v.substring(w.length+1));break}}}return u}};var l=j;var i="djdt";var k={jQuery:j,events:{ready:[]},isReady:false,init:function(){l("#djDebug").show();var a=null;l("#djDebugPanelList li a").live("click",function(){if(!this.className){return false}a=l("#djDebug #"+this.className);if(a.is(":visible")){l(h).trigger("close.djDebug");l(this).parent().removeClass("active")}else{l(".panelContent").hide();a.show();l("#djDebugToolbar li").removeClass("active");l(this).parent().addClass("active")}return false});l("#djDebug a.djDebugClose").live("click",function(){l(h).trigger("close.djDebug");l("#djDebugToolbar li").removeClass("active");return false});l("#djDebug a.remoteCall").live("click",function(){l("#djDebugWindow").load(this.href,function(f,n,d){if(n=="error"){var e='<div class="djDebugPanelTitle"><a class="djDebugClose djDebugBack" href="">Back</a><h3>'+d.status+": "+d.statusText+"</h3></div>";l("#djDebugWindow").html(e)}l("#djDebugWindow a.djDebugBack").live("click",function(){l(this).parent().parent().hide();return false})});l("#djDebugWindow").show();return false});l("#djDebugTemplatePanel a.djTemplateShowContext").live("click",function(){k.toggle_arrow(l(this).children(".toggleArrow"));k.toggle_content(l(this).parent().next());return false});l("#djDebug a.djDebugToggle").live("click",function(d){d.preventDefault();l(this).parent().find(".djDebugCollapsed").toggle();l(this).parent().find(".djDebugUncollapsed").toggle()});l("#djDebug a.djToggleSwitch").live("click",function(d){d.preventDefault();var f=l(this);var p=f.attr("data-toggle-id");var e=f.text()==f.attr("data-toggle-open");if(p===""||!p){return}var o=f.attr("data-toggle-name");f.parents(".djDebugPanelContent").find("#"+o+"_"+p).find(".djDebugCollapsed").toggle(e);f.parents(".djDebugPanelContent").find("#"+o+"_"+p).find(".djDebugUncollapsed").toggle(!e);l(this).parents(".djDebugPanelContent").find(".djToggleDetails_"+p).each(function(){var m=l(this);if(e){m.addClass("djSelected");m.removeClass("djUnselected");f.text(f.attr("data-toggle-close"));m.find(".djToggleSwitch").text(f.text())}else{m.removeClass("djSelected");m.addClass("djUnselected");f.text(f.attr("data-toggle-open"));m.find(".djToggleSwitch").text(f.text())}});return});function c(e){var d=e.attr("id");return l('.djDebugProfileRow[id^="'+d+'_"]')}function b(d){var e=c(d);var f=parseInt(d.attr("depth"),10)+1;return e.filter("[depth="+f+"]")}l(".djDebugProfileRow .djDebugProfileToggle").live("click",function(){var d=l(this).closest(".djDebugProfileRow");var e=c(d);if(e.css("display")=="none"){b(d).show()}else{e.hide()}});l("#djDebug-htmlvalidator .handle-position").click(function(){l("#djDebug-htmlvalidator .repr-info-sel").removeClass("repr-info-sel");l(this).parent().parent().addClass("repr-info-sel");var s=l(this).text();var e=new RegExp("line\\s+([0-9]+)");var f=s.match(e);try{var t=f[1]}catch(u){return}var r=l(h).data("reprlineselpos")||null;if(r){r.removeClass("repr-line-sel")}l("#djDebug-htmlvalidator .repr-line-"+t).addClass("repr-line-sel");l(h).data("reprlineselpos",l(".repr-line-"+t));var v=location;if(location.href.indexOf("#repr-line-")>-1){var d=location.href.substring(0,location.href.indexOf("#repr"));v=d}location=v+"#repr-line-"+t});l("#djDebug-htmlvalidator .tidy-msg").click(function(d){l(".handle-position:first",l(this).prev()).click()});l("#djHideToolBarButton").click(function(){k.hide_toolbar(true);return false});l("#djShowToolBarButton").click(function(){k.show_toolbar();return false});l(h).bind("close.djDebug",function(){if(l("#djDebugWindow").is(":visible")){l("#djDebugWindow").hide();return}if(l(".panelContent").is(":visible")){l(".panelContent").hide();return}if(l("#djDebugToolbar").is(":visible")){k.hide_toolbar(true);return}});if(l.cookie(i)){k.hide_toolbar(false)}else{k.show_toolbar(false)}l("#djDebug .djDebugHoverable").hover(function(){l(this).addClass("djDebugHover")},function(){l(this).removeClass("djDebugHover")});k.isReady=true;l.each(k.events.ready,function(e,d){d(k)})},toggle_content:function(a){if(a.is(":visible")){a.hide()}else{a.show()}},close:function(){l(h).trigger("close.djDebug");return false},hide_toolbar:function(a){l("#djDebugWindow").hide();l(".panelContent").hide();l("#djDebugToolbar li").removeClass("active");l("#djDebugToolbar").hide("fast");l("#djDebugToolbarHandle").show();l(h).unbind("keydown.djDebug");if(a){l.cookie(i,"hide",{path:"/",expires:10})}},show_toolbar:function(a){l(h).bind("keydown.djDebug",function(b){if(b.keyCode==27){k.close()}});l("#djDebugToolbarHandle").hide();if(a){l("#djDebugToolbar").show("fast")}else{l("#djDebugToolbar").show()}l.cookie(i,null,{path:"/",expires:-1})},toggle_arrow:function(b){var c=String.fromCharCode(9654);var a=String.fromCharCode(9660);b.html(b.html()==c?a:c)},ready:function(a){if(k.isReady){a(k)}else{k.events.ready.push(a)}}};l(h).ready(function(){k.init()});return k}(window,document,jQuery.noConflict(true)));