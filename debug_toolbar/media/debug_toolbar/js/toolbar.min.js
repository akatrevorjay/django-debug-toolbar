window.djdt=(function(b,a,e){e.cookie=function(h,p,s){if(typeof p!="undefined"){s=s||{};if(p===null){p="";s.expires=-1}var l="";if(s.expires&&(typeof s.expires=="number"||s.expires.toUTCString)){var m;if(typeof s.expires=="number"){m=new Date();m.setTime(m.getTime()+(s.expires*24*60*60*1000))}else{m=s.expires}l="; expires="+m.toUTCString()}var r=s.path?"; path="+(s.path):"";var n=s.domain?"; domain="+(s.domain):"";var g=s.secure?"; secure":"";a.cookie=[h,"=",encodeURIComponent(p),l,r,n,g].join("")}else{var k=null;if(a.cookie&&a.cookie!=""){var q=a.cookie.split(";");for(var o=0;o<q.length;o++){var j=c.trim(q[o]);if(j.substring(0,h.length+1)==(h+"=")){k=decodeURIComponent(j.substring(h.length+1));break}}}return k}};var c=e;var f="djdt";var d={jQuery:e,events:{ready:[]},isReady:false,init:function(){c("#djDebug").show();var i=null;c("#djDebugPanelList li a").live("click",function(){if(!this.className){return false}i=c("#djDebug #"+this.className);if(i.is(":visible")){c(a).trigger("close.djDebug");c(this).parent().removeClass("active")}else{c(".panelContent").hide();i.show();c("#djDebugToolbar li").removeClass("active");c(this).parent().addClass("active")}return false});c("#djDebug a.djDebugClose").live("click",function(){c(a).trigger("close.djDebug");c("#djDebugToolbar li").removeClass("active");return false});c("#djDebug a.remoteCall").live("click",function(){c("#djDebugWindow").load(this.href,function(k,j,m){if(j=="error"){var l='<div class="djDebugPanelTitle"><a class="djDebugClose djDebugBack" href="">Back</a><h3>'+m.status+": "+m.statusText+"</h3></div>";c("#djDebugWindow").html(l)}c("#djDebugWindow a.djDebugBack").live("click",function(){c(this).parent().parent().hide();return false})});c("#djDebugWindow").show();return false});c("#djDebugTemplatePanel a.djTemplateShowContext").live("click",function(){d.toggle_arrow(c(this).children(".toggleArrow"));d.toggle_content(c(this).parent().next());return false});c("#djDebug a.djDebugToggle").live("click",function(j){j.preventDefault();c(this).parent().find(".djDebugCollapsed").toggle();c(this).parent().find(".djDebugUncollapsed").toggle()});c("#djDebug a.djToggleSwitch").live("click",function(m){m.preventDefault();var k=c(this);var n=k.attr("data-toggle-id");var l=k.text()==k.attr("data-toggle-open");if(n===""||!n){return}var j=k.attr("data-toggle-name");k.parents(".djDebugPanelContent").find("#"+j+"_"+n).find(".djDebugCollapsed").toggle(l);k.parents(".djDebugPanelContent").find("#"+j+"_"+n).find(".djDebugUncollapsed").toggle(!l);c(this).parents(".djDebugPanelContent").find(".djToggleDetails_"+n).each(function(){var o=c(this);if(l){o.addClass("djSelected");o.removeClass("djUnselected");k.text(k.attr("data-toggle-close"));o.find(".djToggleSwitch").text(k.text())}else{o.removeClass("djSelected");o.addClass("djUnselected");k.text(k.attr("data-toggle-open"));o.find(".djToggleSwitch").text(k.text())}});return});function g(j){var k=j.attr("id");return c('.djDebugProfileRow[id^="'+k+'_"]')}function h(l){var k=g(l);var j=parseInt(l.attr("depth"),10)+1;return k.filter("[depth="+j+"]")}c(".djDebugProfileRow .djDebugProfileToggle").live("click",function(){var k=c(this).closest(".djDebugProfileRow");var j=g(k);if(j.css("display")=="none"){h(k).show()}else{j.hide()}});c("#djDebug-htmlvalidator .handle-position").click(function(){c("#djDebug-htmlvalidator .repr-info-sel").removeClass("repr-info-sel");c(this).parent().parent().addClass("repr-info-sel");var q=c(this).text();var l=new RegExp("line\\s+([0-9]+)");var k=q.match(l);try{var p=k[1]}catch(o){return}var j=c(a).data("reprlineselpos")||null;if(j){j.removeClass("repr-line-sel")}c("#djDebug-htmlvalidator .repr-line-"+p).addClass("repr-line-sel");c(a).data("reprlineselpos",c(".repr-line-"+p));var n=location;if(location.href.indexOf("#repr-line-")>-1){var m=location.href.substring(0,location.href.indexOf("#repr"));n=m}location=n+"#repr-line-"+p});c("#djDebug-htmlvalidator .tidy-msg").click(function(j){c(".handle-position:first",c(this).prev()).click()});c("#djHideToolBarButton").click(function(){d.hide_toolbar(true);return false});c("#djShowToolBarButton").click(function(){d.show_toolbar();return false});c(a).bind("close.djDebug",function(){if(c("#djDebugWindow").is(":visible")){c("#djDebugWindow").hide();return}if(c(".panelContent").is(":visible")){c(".panelContent").hide();return}if(c("#djDebugToolbar").is(":visible")){d.hide_toolbar(true);return}});if(c.cookie(f)){d.hide_toolbar(false)}else{d.show_toolbar(false)}c("#djDebug .djDebugHoverable").hover(function(){c(this).addClass("djDebugHover")},function(){c(this).removeClass("djDebugHover")});d.isReady=true;c.each(d.events.ready,function(j,k){k(d)})},toggle_content:function(g){if(g.is(":visible")){g.hide()}else{g.show()}},close:function(){c(a).trigger("close.djDebug");return false},hide_toolbar:function(g){c("#djDebugWindow").hide();c(".panelContent").hide();c("#djDebugToolbar li").removeClass("active");c("#djDebugToolbar").hide("fast");c("#djDebugToolbarHandle").show();c(a).unbind("keydown.djDebug");if(g){c.cookie(f,"hide",{path:"/",expires:10})}},show_toolbar:function(g){c(a).bind("keydown.djDebug",function(h){if(h.keyCode==27){d.close()}});c("#djDebugToolbarHandle").hide();if(g){c("#djDebugToolbar").show("fast")}else{c("#djDebugToolbar").show()}c.cookie(f,null,{path:"/",expires:-1})},toggle_arrow:function(h){var g=String.fromCharCode(9654);var i=String.fromCharCode(9660);h.html(h.html()==g?i:g)},ready:function(g){if(d.isReady){g(d)}else{d.events.ready.push(g)}}};c(a).ready(function(){d.init()});return d}(window,document,jQuery.noConflict(true)));